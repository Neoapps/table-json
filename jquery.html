<!DOCTYPE html>
<html>
<head>
  <title>JSON + Javascript + Bootstrap</title>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
    
  <!-- Bootstrap -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    
  <style>
  html, body{
    height: 100%;
    margin: 0px;
    padding: 0px
  }
  body{
    padding-top: 40px
  }

  </style>

</head>
<body>
    
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-8 col-sm-offset-2">
        <h3>JSON + jQuery + UnderscoreJS + Bootstrap</h3>
      </div>
    </div>
    
    <div class="row">
      <div class="col-sm-8 col-sm-offset-2">

        <table class="table table-condensed table-hover table-clickable table-usuarios">
          <thead>
            <tr>
              <th>User</th>
              <th>Score</th>
            </tr>
          </thead>        
          <tbody></tbody>
        </table>
          
      </div>
    </div>

    <div class="row">
      <div class="col-sm-8 col-sm-offset-2">
        <div class="btn btn-default btn-ola">Olá</div>
        <div class="btn btn-default btn-tchau">Tchau</div>
      </div>
    </div>

  </div>  
    
</body>

<!-- Carregar o Javascript após o BODY melhora a performance de carregamento da página -->

<!-- JQuery -->
<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<!-- Bootstrap -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<!-- UnderscoreJS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>

<script>
// O carregamento do Javascript é sequencial.
// Tudo em Javascript é uma variavel ou uma function ou um objeto.
  
// Dados
var users = [
  {"user":"Fred","score":"10"},
  {"user":"Daniel","score":"15"},
  {"user":"Diego","score":"12"}
];
  
// Init
// Esta function é executada logo após carregar o DOM
// Todas as inicializações são carregadas aqui 
// ex. 
// Eventos de click, on hover, etc.
//
// Rodar uma função especifica
// ex. Listar usuários
// 
$(function(){
  
  var texto = "Inicialização";
  // Imprime uma mensagem no DEBUG do browser
  console.log(texto);
    
  // Evento de click do botão com classe .btn-ola
  $(".btn-ola").click(function(){
    alert("Olá!")
  });

  // Evento de click do botão com classe .btn-ola
  $(".btn-tchau").click(function(){
    // Chamada a um método fora do escopo
    metodoX();
  });
  
  // Elemento table - jQuery
  var tabela = $(".table-usuarios");
  
  // Chamada a um método fora do escopo para carregar itens numa tabela  
  carregaItensNaTabela(tabela, users)
    
});

// Método(ou Function) que pode ser chamada dentro de outro método
function metodoX(){
  alert("Tchau!")
};

// Método(ou Function) que pode ser chamada dentro de outro método
// table = $(".table-usuarios")
// data  = JSON  
function carregaItensNaTabela(table, data){
  var rows = "";
  // Iteração utilizando UnderscorJS - http://underscorejs.org/
  _.each(data, function(item){
    rows += "<tr>";
    rows += " <td>" + item.user+ "</td>";
    rows += " <td>" + item.score+ "</td>";
    rows += "</tr>";
  });
  table.find("tbody").append(rows);
};



</script>

</html>